<!DOCTYPE html>
<html lang="en">
<style>

    img{
        width: 100px;
        height: 100px;
    }

    .dropdown{
        position: relative;
        left: 0px;
    }

    .barra li a{
        background-color: #000000;
        color:#ffffff;
        padding:10px 15px;
        display:block;
        width: 370px;
    }

    .barra > li{
        float:left;
    }

    .btn btn-default btn-lg{
        position: relative;
        left: 1200px;
        width: 150px;
        height: 150px;
    }

</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script>
    window.onload=function() {
        if (&{visionadmin} == 1)
        document.getElementById('AñadirUsuario').style.display="block";
    }

</script>

<head>
    <script type="text/javascript" src=@{'/public/javascripts/Funciones.js'}></script>
    <meta charset="UTF-8">
    <title>Página Administrador</title>
</head>
<body>
<div style="background-color:#1aff00; width:1900px; height:90px"></div>

<h1 style="text-align: center; width:1900px; height:100px"> VISTA ADMINISTRADOR</h1>

<div style="text-align: right; height:50px"><b>Está conectado como: &{client.usuario}</b></div>

<p>Esta es la vista de Administrador de la Página Web. Solos los usuarios con derechos de administrador pueden acceder a esta página.</p>

<div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        Opciones Usuario
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <li><a href="@{CambiarVistaNormal()}">Cambiar Vista a Normal</a></li>
        <li><a href="@{EliminarUsuario()}">Borrar perfil</a></li>
        <li><a href="@{ModificarDatos()}">Modificar datos perfil</a></li>
        <li><a href="@{Logout()}">Cerrar Sesión</a></li>
    </ul>
</div>
<h3 style="text-align: center; width:1900px; height:100px"> ACCIONES DE ADMINISTRADOR</h3>

<ul class="barra">
    <a class="jumbotron"></a>
    <li><a href="@{añadirusuario()}">Añadir Usuario</a></li>
    <li><a onclick="Modificarusuario();">Modificar Usuario</a></li>
    <li><a >Eliminar Usuario</a></li>
    <li><a href="@{goAddStock()}">Añadir Stock</a></li>
    <li><a >Quitar Stock</a></li>
</ul>

<div style="text-align: center; display: none" id ="AñadirUsuario">

#{form @registrarclienteadmin()}
    #{field 'usuario'}
        <p class="${field.errorClass}">
            <strong>Username:</strong> <input type="text" name="${field.name}" size="16"> *
            <span class="error">${field.error}</span>
        </p>

    #{/field}

    #{field 'nuevocliente.contraseña'}
        <p class="${field.errorClass}">
            <strong>Password:</strong> <input type="password" name="${field.name}" size="16"> *
            <span class="error">${field.error}</span>
        </p>

    #{/field}
    #{field 'contraseña'}
        <p class="${field.errorClass}">
            <strong>Verify password:</strong> <input type="password" name="${field.name}" size="16"> *
            <span class="error">${field.error}</span>
        </p>

        </p>

    #{/field}
    #{field 'mail'}
        <p class="${field.errorClass}">
            <strong>Mail:</strong> <input type="email" name="${field.name}" size="16"> *
            <span class="error">${field.error}</span>
        </p>

    #{/field}
    <p class="buttons">
        <input type="submit" value="Register">
    </p>

#{/form}
</div>

<div  style="text-align: center; display: none" id = "ModificarUsuario" class="column">
    <p>
        <strong>Selecciona el usuario que quieres modificar:</strong>
    </p>

    <p>
        <label for="Nombreusuarios"> Usuarios:</label>
        <select id="Nombreusuarios" name="idusuario">
            #{list items:listaclientes, as:'cliente'}
                <option value="${cliente.usuario}" >${cliente.usuario}</option>
            #{/list}
        </select>
    </p>

    <p class="buttons">
        <input onclick="CargarDatos()" type="submit" value="Cargar Datos" />
    </p>
</div>
<div style="text-align: center; display: none" id = "DatosUsuario" class="column">
    <div id = "titulo"><h3>Modifica los datos del usuario:</h3></div>
    #{form @ModificarDatosAdmin()}

        #{field 'username'}
            <p class="${field.errorClass}">
                <input style="display: none;" type="text" name="${field.name}" size="16">
                <span class="error">${field.error}</span>
            </p>
        #{/field}
        #{field 'user.usuario'}
            <p class="${field.errorClass}">
                <strong>Username:</strong> <input id = "usuario" type="text" name="${field.name}" size="16">
                <span class="error">${field.error}</span>
            </p>
        #{/field}

        #{field 'user.contraseña'}
            <p class="${field.errorClass}">
                <strong>Contraseña:</strong> <input type="text" name="${field.name}" size="16">
                <span class="error">${field.error}</span>
            </p>
        #{/field}

        #{field 'user.mail'}
            <p class="${field.errorClass}">
                <strong>Mail:</strong> <input type="text" name="${field.name}" size="16" >
                <span class="error">${field.error}</span>
            </p>
        #{/field}

        <p class="buttons">
            <input type="submit" value="Modificar Usuario" />
        </p>
    #{/form}
</div>
</body>
</html>