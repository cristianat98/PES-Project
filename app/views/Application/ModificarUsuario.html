<!DOCTYPE html>
<html lang="en">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<style>
    .panel.panel-default{
        height: 200px;
        width: 350px;
        margin-left: 500px;
    }
    .logo {
         margin-top: 75px;
         margin-left: 600px;
         width: 150px;
         height: 150px;
         margin-bottom: 10px;
     }

    .fondo{
        background-size: cover;
        background-image: url("/public/images/barcelona.jpg");
    }


</style>

<head>
    <meta charset="UTF-8">
    <title>Modificar Datos</title>

    <script>

        window.onload=function() {
            if (&{modificar} == 1)
                document.getElementById('ModificarDatos').style.display="none";
        }

        function ComprobarCheckPerfil (){
            if (document.getElementById('modificarperfil').checked)
                document.getElementById('modificarperfil').value = 1;
        }

    </script>
</head>
<img class="logo" src="/public/images/logo.png" alt="ERROR AL CARGAR LA IMAGEN">
<body class="fondo" ><div class="panel panel-default" >
    <div class="panel-heading">    Introduzca contraseña para modificar sus datos:</div>
    <section class="panel-body">
<div id ="ModificarDatos">

#{form @cargardatosusuario()}

    #{field 'contraseña'}
        <p class="${field.errorClass}">
            <strong>Contraseña:</strong> <input type="password" name="${field.name}" size="16"> *
            <span class="error">${field.error}</span>
        </p>
    #{/field}
    <p>
        <input type="submit" value="Comprobar contraseña">
    </p>

#{/form}
</div>

#{if clienteM}
        <style>
            .panel.panel-default{
                height: 500px;
                width: 350px;
                margin-left: 500px;
            }
            .logo {
                margin-top: 20px;
                margin-left: 600px;
                width: 150px;
                height: 150px;
                margin-bottom: 10px;
            }
        </style>

 <h3>Sus datos personales son:</h3>

 #{form @ModificarDatos2(), enctype:'multipart/form-data'}

     #{field 'usuario'}
     <p class="${field.errorClass}">
         <strong>Username:</strong> <input type="text" name="${field.name}" value="&{clienteM.usuario}" size="16">*
         <span class="error">${field.error}</span>
     </p>

     #{/field}

     #{field 'nombre'}
     <p class="${field.errorClass}">
         <strong>Nombre:</strong> <input type="text" name="${field.name}" value="&{clienteM.nombre}"size="16">*
         <span class="error">${field.error}</span>
     </p>
     #{/field}

     #{field 'apellido1'}
     <p class="${field.errorClass}">
         <strong>Apellido 1:</strong> <input type="text" name="${field.name}" value="&{clienteM.apellido1}" size="16">*
         <span class="error">${field.error}</span>
     </p>

     #{/field}

     #{field 'clienteM.apellido2'}
     <p class="${field.errorClass}">
         <strong>Apellido 2:</strong> <input type="text" name="${field.name}"  value="&{clienteM.apellido2}" size="16">
         <span class="error">${field.error}</span>
     </p>

     #{/field}

     #{field 'clienteM.contraseña'}
     <p class="${field.errorClass}">
         <strong>Contraseña:</strong> <input type="password" name="${field.name}" size="16">
         <span class="error">${field.error}</span>
     </p>

     #{/field}

     #{field 'contraseña'}
     <p class="${field.errorClass}">
         <strong>Verificar Contraseña:</strong> <input type="password" name="${field.name}" size="16">
         <span class="error">${field.error}</span>
     </p>

     </p>

     #{/field}
     #{field 'mail'}
     <p class="${field.errorClass}">
         <strong>Mail:</strong> <input type="email" name="${field.name}" value="&{clienteM.mail}" size="16">*
         <span class="error">${field.error}</span>
     </p>

     #{/field}

     #{field 'perfil'}
         <p class="${field.errorClass}">
             <strong>Quitar Foto Perfil:</strong><input type="checkbox" id ="modificarperfil" name="${field.name}" value="0">
             <span class="error">${field.error}</span>
         </p>
     #{/field}

     #{field 'clienteM.perfil'}
     <p class="${field.errorClass}">
         <strong>Foto Perfil:</strong><input type="file" name="${field.name}">
         <span class="error">${field.error}</span>
     </p>
     #{/field}

 <p class="buttons">
     <input type="submit" onclick="ComprobarCheckPerfil()" value="Modificar datos">
 </p>

 #{/form}

    #{if error}
    <p style="color: #ea0808">${error}</p>
    #{/if}
#{/if}
 <a href= "@{Logout()}"><button>Cerrar Sesión</button></a>
 <a href= "@{index()}"><button>Atrás</button></a>

    </section>
        </div>
            </div>

</body>
</html>



 